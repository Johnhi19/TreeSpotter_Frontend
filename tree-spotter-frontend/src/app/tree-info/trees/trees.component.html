<div class="tree-detail-container">
  <div *ngIf="tree; else loading">
    <h1>{{ 'labels.TREE_DETAILS' | translate }}</h1>
    
    <div class="tree-card">
      <div class="detail-row clickable" (click)="editField('labels.TYPE', 'type', tree.type)">
        <span class="label">{{ 'labels.TYPE' | translate }}:</span>
        <span class="value">{{ tree.type }}</span>
        <span class="edit-icon">‚úèÔ∏è</span>
      </div>
      
      <div class="detail-row clickable" (click)="editPlantDate('labels.PLANT_DATE', 'plantDate', tree.plantDate)">
        <span class="label">{{ 'labels.PLANT_DATE' | translate }}:</span>
        <span class="value">{{ tree.plantDate | date:'dd.MM.yyyy' }}</span>
        <span class="edit-icon">‚úèÔ∏è</span>
      </div>
      
      <div class="detail-row clickable" (click)="editPosition('labels.POSITION', 'position', tree.position)" *ngIf="tree.position">
        <span class="label">{{ 'labels.POSITION' | translate }}:</span>
        <span class="value">Zeile {{ tree.position.x + 1 }}, Spalte {{ tree.position.y + 1 }}</span>
        <span class="edit-icon">‚úèÔ∏è</span>
      </div>
    </div>
    
    <div class="button-container">
      <button class="back-button" (click)="goBackToMeadow()">
        ‚Üê {{ 'labels.BACK_TO_MEADOW' | translate }}
      </button>
      <button class="cancel-button" (click)="deleteTree()">
        üóëÔ∏è {{ 'labels.DELETE_TREE' | translate }}
      </button>
    </div>

    <div class="button-container">
      <button class="upload-button" (click)="navigateToUploadTreeImage()">
        {{ 'labels.UPLOAD_IMAGE' | translate }}
      </button>
    </div>

    <div class="images-section" *ngIf="images && images.length > 0">
      <h2>{{ 'labels.IMAGES' | translate }}</h2>
      <div class="image-grid">
        <div class="image-card" *ngFor="let image of images">
          <img [src]="'/api' + image.path" alt="Tree Image" class="tree-image" (click)="openImageViewer(image)" />
          <div class="image-description" *ngIf="image.description">
            {{ image.description }}
          </div>
          <div class="image-datetime">
            {{ image.datetime | date:'dd.MM.yyyy' }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #loading>
    <div class="loading-container">
      <p>{{ 'labels.LOAD_TREE_DATA' | translate }}...</p>
    </div>
  </ng-template>
</div>

<router-outlet></router-outlet>